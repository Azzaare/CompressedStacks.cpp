<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>My Project: CompressedStacks.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_README.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CompressedStacks.cpp </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The CompressedStacks.cpp module/library implements a time-space trade-off structure for stack's algorithms.</p>
<h2>Category of algorithms</h2>
<p>This compressed stack structure works correctly as a normal stack for any problems that read input from a file. However, the running time is optimal when the input would be read sequentially with a classical stack structure. For this reason, the only function implemented in the <a class="el" href="class_problem.html">Problem</a> template to solve it (to do a run) is the one presented below in a simplified version. </p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keyword">class</span> D&gt; <span class="keywordtype">void</span> <a class="code" href="class_problem.html">Problem&lt;T, D&gt;::run</a>() {</div><div class="line">  initStack();</div><div class="line">  <span class="keywordflow">while</span> (notEndOfFile()) {</div><div class="line">    D data = readInput(line);</div><div class="line">    <span class="keywordflow">while</span> (notEmptystack() &amp;&amp; popCondition(data)) {</div><div class="line">      elt = pop();</div><div class="line">      popAction(elt);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (pushCondition(data)) {</div><div class="line">      pushAction(data);</div><div class="line">      push(data);</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><h2>Characterization of a problem</h2>
<p>In the followwing examples, implementations of the <a class="el" href="class_problem.html">Problem</a> interface are given.</p>
<h3>General example : <code><a class="el" href="class_instance.html">Instance</a>&lt;T,D&gt;</code></h3>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"></div><div class="line"><span class="comment">// T is the type of the context and D is the type of the input data.</span></div><div class="line"><span class="keyword">class </span><a class="code" href="class_instance.html">Instance</a>: <span class="keyword">public</span> <a class="code" href="class_problem.html">Problem</a>&lt;T,D&gt;{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <a class="code" href="class_instance.html">Instance</a>(std::string filePath) : <a class="code" href="class_problem.html">Problem</a>&lt;T, D&gt;(filePath) {}</div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="comment">// Functions to implement according to the problem and input</span></div><div class="line">  D readInput(std::vector&lt;std::string&gt; line){</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Implement readInput for your instance&quot;</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">  }</div><div class="line">  std::shared_ptr&lt;T&gt; initStack(){</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Implement initStack for your instance&quot;</span> &lt;&lt; std::endl;</div><div class="line">    std::shared_ptr&lt;T&gt; context(<span class="keyword">nullptr</span>);</div><div class="line">    <span class="keywordflow">return</span> context;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">bool</span> popCondition(D data){</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Implement mPopCondition for your instance&quot;</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">void</span> popAction(<a class="code" href="class_data.html">Data&lt;T, D&gt;</a> elt){</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Implement mPopAction for your instance&quot;</span> &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">bool</span> pushCondition(D data){</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Implement mPushCondition for your instance&quot;</span> &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">void</span> pushAction(<a class="code" href="class_data.html">Data&lt;T, D&gt;</a> elt){</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Implement mPushAction for your instance&quot;</span> &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">};</div></div><!-- fragment --><h3>Example with <code>T = int</code> and <code>D = int</code> : <code><a class="el" href="class_instance.html">Instance</a>&lt;int,int&gt;</code></h3>
<p>The context is initialized at 0. The data (in cvs format) is read as a pair of string such that the first string is the data and the second is used to update the context. While the context is more than 0, the stack is poped and the context decreased by 1. If the data is more than 0 then it is pushed. </p><div class="fragment"><div class="line"><span class="keyword">class </span><a class="code" href="class_instance.html">Instance</a> : <span class="keyword">public</span> <a class="code" href="class_problem.html">Problem</a>&lt;int, int&gt; {</div><div class="line"><span class="keyword">public</span>:</div><div class="line">  <a class="code" href="class_instance.html">Instance</a>(std::string filePath) : <a class="code" href="class_problem.html">Problem</a>&lt;int, int&gt;(filePath) {}</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">  <span class="comment">// Functions to run the stack</span></div><div class="line">  <span class="keywordtype">int</span> readInput(std::vector&lt;std::string&gt; line) {</div><div class="line">    <span class="keywordtype">int</span> value = std::stoi(line[0]);</div><div class="line">    setContext(std::stoi(line[1]));</div><div class="line">    <span class="keywordflow">return</span> value;</div><div class="line">  }</div><div class="line">  std::shared_ptr&lt;int&gt; initStack() {</div><div class="line">    std::shared_ptr&lt;int&gt; context(<span class="keyword">new</span> <span class="keywordtype">int</span>(0));</div><div class="line">    <span class="keywordflow">return</span> context;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">bool</span> popCondition(<span class="keywordtype">int</span> data) {</div><div class="line">    <span class="keywordflow">if</span> ((getContext() &gt; 0)) {</div><div class="line">      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">void</span> popAction(<a class="code" href="class_data.html">Data&lt;int, int&gt;</a> elt) {</div><div class="line">    std::cout &lt;&lt; elt.toString() &lt;&lt; <span class="stringliteral">&quot; &lt;&lt;&lt;&lt; Pop!&quot;</span> &lt;&lt; std::endl;</div><div class="line">    setContext(getContext() - 1);</div><div class="line">  }</div><div class="line">  <span class="keywordtype">bool</span> pushCondition(<span class="keywordtype">int</span> data) {</div><div class="line">    <span class="keywordflow">if</span> (data &gt; 0) {</div><div class="line">      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line">  }</div><div class="line">  <span class="keywordtype">void</span> pushAction(<a class="code" href="class_data.html">Data&lt;int, int&gt;</a> elt) {</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Push &gt;&gt;&gt;&gt; &quot;</span> &lt;&lt; elt.toString() &lt;&lt; std::endl;</div><div class="line">  }</div><div class="line">};</div></div><!-- fragment --><h2>How to run your problem</h2>
<p>Suppose the class <a class="el" href="class_instance.html">Instance</a> implement the interface Problem&lt;T,D&gt; (as in some examples above). You can run an instance of your problem described in the input located at <em>filepath</em>. The last command just print an output in th console of your compressed stack after the run.</p>
<div class="fragment"><div class="line"><a class="code" href="class_instance.html">Instance</a> stack(filePath);</div><div class="line">stack.run();</div><div class="line">stack.println();</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
